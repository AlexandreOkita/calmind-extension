// src/controllers/Templates.ts

import type { ContentSection } from "@/model/content_section";

const DATA = {
  content_subtitle:
    "Produzir um Trabalho de Conclusão de Curso (TCC) sempre exige dedicação, mas a jornada costuma ser repleta de tarefas repetitivas: encontrar boas referências, estruturar capítulos, organizar metodologias e, claro, manter tudo formatado em conformidade com normas acadêmicas. Hoje, graças aos avanços em Inteligência Artificial (IA), boa parte desse processo pode ser otimizado. Isso inclui desde a escolha do tema até a revisão final. No entanto, o uso de IA para TCC pede responsabilidade e domínio de algumas estratégias para que o resultado seja realmente acadêmico, autoral e confiável. Neste conteúdo, exploraremos formas de incluir a IA de modo seguro em cada etapa do TCC, além de apresentar diferentes ferramentas, desde sugestões de estrutura textual até buscas bibliográficas otimizadas.",
  content_title:
    "IA para TCC: Como usar inteligência artificial para fazer monografias?",
  original_chunks: [
    {
      chunk_content:
        "A aplicação de IA em trabalhos acadêmicos avança a passos largos. Ferramentas que, inicialmente, eram vistas com desconfiança, hoje já se tornaram companheiras constantes, auxiliando na formatação de normas técnicas e na construção de fundamentações teóricas. Ao mesmo tempo, alguns estudantes ainda se questionam se é correto ou não recorrer a esses recursos para “acelerar” o TCC. O ideal é perceber que a IA não substitui a capacidade de raciocínio crítico e a pesquisa cuidadosa. Em vez disso, ela atua como uma aliada para lidar com tarefas que tomam tempo, como ajustar referências ou sugerir novas bibliografias. Com esse tipo de auxílio, o(a) aluno(a) fica livre para se dedicar ao que realmente importa: aprofundar-se no conteúdo, argumentar e construir um texto de valor para a comunidade acadêmica. Assim, a ideia é evoluir de forma adaptável, aproveitando as facilidades tecnológicas sem sacrificar o rigor metodológico. Por exemplo, se você decide implementar um estudo de caso sobre marketing digital e deseja encontrar referências científicas, há IAs que fazem buscas rápidas em bases confiáveis, retornando sugestões de artigos revisados por pares. A partir daí, você pode focar a leitura no que traz embasamento real ao seu texto. Caso fique travado na escrita de um capítulo, modelos de IA também podem sugerir uma estrutura inicial, que você revisa e adapta para o tom desejado. Tudo isso diminui o tempo perdido em tarefas operacionais, direcionando sua energia para o que realmente importa na pesquisa.",
      chunk_title:
        "IA para TCC: Como usar inteligência artificial para fazer monografias?",
    },
    {
      chunk_content:
        "A dúvida sobre “poder ou não” usar IA no TCC é frequente. A verdade é que não existe, em âmbito nacional, uma legislação única que trate do assunto. Normalmente, cada instituição de ensino cria suas próprias regras, detalhando quando e como as ferramentas de IA podem ser utilizadas. Portanto, se você pretende recorrer a esses recursos, o primeiro passo é conferir as normas internas da faculdade ou da universidade. Em muitos casos, o uso é bem-vindo, desde que haja transparência. Isso implica citar, dentro do trabalho, como a IA contribuiu: seja fornecendo sugestões de escrita, apoiando em revisões textuais ou indicando bibliografias. A honestidade é um princípio básico da academia. Quem a pratica, na maioria das vezes, só tem a ganhar, demonstrando maturidade e dominando as práticas de adaptação às inovações tecnológicas.Convém também alinhar o uso da IA com seu orientador. Se a instituição entende esse recurso como uma extensão do seu trabalho, em vez de sua substituição, a conversa tende a ser bem positiva. Afinal, todos apreciam a eficiência, principalmente quando ela está aliada à confiabilidade. O fundamental é não perder de vista a produção autoral: você continua sendo responsável pelas ideias centrais, interpretações dos resultados e originalidade dos argumentos.",
      chunk_title: "É permitido usar IA no TCC?",
    },
    {
      chunk_content:
        "A produção de uma monografia segue, em geral, um roteiro básico: escolher o tema, delimitar o problema de pesquisa, revisar a literatura, fazer a parte metodológica, analisar os dados e encerrar com conclusões. Em cada uma dessas fases, as IAs conseguem contribuir de forma diferente. Abaixo, apresentamos alguns exemplos práticos:\n\nEscolha e delimitação de tema: Ferramentas de IA podem ser úteis em brainstormings iniciais. Você insere um tópico principal — por exemplo, “educação híbrida” — e recebe sugestões para recortes específicos, como “educação híbrida na formação de professores de Matemática” ou “estratégias de engajamento virtual em salas de aula híbridas”.\n\nPesquisa bibliográfica: Alguns modelos rastreiam artigos em bases científicas e retornam, em poucos segundos, estudos correlatos. Isso acelera a revisão de literatura, indicando fontes confiáveis. Ainda assim, é essencial conferir cada referência, validando se realmente existe e se se encaixa no escopo do seu trabalho.\n\nEstruturação do texto: Quando surge aquela dificuldade de organizar ideias e capítulos, a IA pode apontar caminhos lógicos, sugerindo subtítulos ou blocos que facilitem a fluidez. É como ter alguém ao lado dizendo: “Que tal iniciar com esse conceito e depois explorar aquela metodologia?”\n\nRevisão ortográfica e de coesão: Várias IAs funcionam como assistentes de gramática e estilo, detectando repetições, erros de concordância e falhas de pontuação. Isso otimiza seu fluxo de trabalho, deixando o texto mais claro e profissional.\n\nPara não se perder nessas facilidades, lembre-se de que a IA, em última instância, não se responsabiliza pelos resultados. Quem garante a integridade e a solidez dos argumentos é você. Verificar, adaptar e conferir coerência são etapas indispensáveis antes de assinar a versão final.",
      chunk_title: "Em quais etapas do TCC a IA pode ajudar?",
    },
    {
      chunk_content:
        "O mercado de IA oferece diversas soluções, cada uma com suas vantagens e restrições. A escolha depende dos objetivos e da etapa em que você está no TCC. A seguir, conheça algumas das ferramentas mais citadas entre estudantes e pesquisadores. Lembre-se, porém, de que nenhuma plataforma substitui a análise crítica e a escrita autoral do estudante.\n\nGrammarly\n\nPara quem escreve em inglês ou quer refinar traduções, o Grammarly é o queridinho de muitos usuários. Ele aponta erros de ortografia, sugere substituições de palavras redundantes e ajuda a padronizar o estilo. O foco se mantém no idioma inglês, mas mesmo em textos em português algumas funcionalidades básicas podem ser úteis. Já a versão paga entrega recursos mais avançados de consistência textual. No entanto, se o seu TCC for majoritariamente em português, é bom complementar com revisões humanas ou outras ferramentas mais adaptadas ao contexto brasileiro.\n\nMettzer\n\nO Mettzer, especialmente popular entre estudantes brasileiros, se concentra em automatizar partes da formatação pela ABNT (Associação Brasileira de Normas Técnicas). Ele colabora na criação de referências, citações diretas e indiretas, e inclusive na diagramação. Por mais que simplifique o processo, não ignore a leitura atenta das regras da sua instituição: às vezes há exigências adicionais. Ainda assim, para quem sente dificuldade com formatação, é um alívio contar com a rapidez oferecida pelo Mettzer.\n\nResearch Rabbit\n\nO Research Rabbit funciona como um “mapeador” de referências. Ao digitar determinada palavra-chave, ele se encarrega de detectar artigos relacionados, construindo conexões entre temas. Se você está em busca de estudos complementares ou quer compreender novas perspectivas na sua revisão teórica, essa ferramenta se mostra bem valiosa. A palavra-chave aqui é “organização”: ele facilita a vida de quem precisa juntar muitos artigos e analisar pontos em comum, principalmente em áreas com grande volume de produção acadêmica.\n\nConsensus\n\nO Consensus se propõe a fazer buscas em publicações revisadas por pares, oferecendo respostas embasadas em evidências científicas. Em vez de listar centenas de artigos, ele tenta apontar, de forma mais direta, se há respaldo ou não para determinada afirmação. Isso pode ser bastante útil quando se quer reforçar um argumento, pois você rapidamente identifica titulares de pesquisas que confirmam (ou contrariam) uma ideia específica. Porém, nem sempre a ferramenta cobre todas as áreas do conhecimento com profundidade, cabendo verificar se há literatura suficiente na sua temática.\n\nPerplexity\n\nEssa ferramenta fornece explicações rápidas, citando as fontes consultadas. É útil para esclarecer dúvidas pontuais, como conceitos teóricos ou definições. Contudo, se o assunto do seu TCC for muito específico ou estiver em língua portuguesa, pode acontecer de a ferramenta não retornar resultados adequados. Mesmo assim, sua habilidade de mostrar referências originais poupa tempo na checagem de credibilidade.\n\nGemini\n\nDesenvolvido pelo Google, é uma ferramenta versátil projetada para auxiliar em diversas tarefas, incluindo a redação de pesquisas. A ideia dele é processar linguagens naturais de forma ágil, auxiliando principalmente quem lida com grandes blocos de texto.\n\nChatGPT\n\nO Chat GPT tem chamado atenção pela capacidade de produzir respostas coerentes em diversos idiomas. Ele pode sugerir estruturas de texto, gerar exemplos de introdução, revisar gramática, e é capaz de lidar com perguntas contextuais (quando você quer comparar conceitos ou elaborar breves análises). Todavia, é essencial verificar as referências que ele menciona, pois em algumas situações os dados podem estar desatualizados ou serem fruto de “alucinações” do modelo. Use-o como uma base inicial; depois, refine as informações por conta própria.\n\nParaphrase Tool\n\nPara evitar repetições ou se livrar do famoso “bloqueio criativo” ao reescrever um parágrafo, há ferramentas de paráfrase que mudam a estrutura das frases, mantendo o sentido geral. Isso pode ser um auxílio considerável na hora de variar o vocabulário. Entretanto, fique atento(a) ao risco de cair em plágio involuntário ou perder precisão terminológica. Sempre revise se o resultado ainda é pertinente e fiel ao que o trabalho acadêmico demanda.",
      chunk_title: "Qual a melhor IA para fazer um TCC?",
    },
    {
      chunk_content:
        "A empolgação ao descobrir essas ferramentas pode levar ao uso desmedido. Vale, portanto, observar alguns cuidados fundamentais:\n\nVerificação das referências: Muitas IAs podem citar estudos que não existem ou bibliografias equivocadas. Antes de listar algo no seu referencial, confira a validade.\n\nAutonomia do(a) aluno(a): Não delegue o desenvolvimento completo ao software. A capacidade de análise, reflexão e autoria permanece sendo sua.\n\nCitações adequadas: Se você parafraseia ou adapta textos de outros autores, mantenha as devidas citações para não ferir normas de plágio.\n\nPolíticas da instituição: Seja transparente. Às vezes, a universidade exige declaração formal sobre o uso de IA. É sempre melhor alinhar essa prática com seu orientador.",
      chunk_title: "Quais cuidados e questões éticas ao usar IA no seu TCC?",
    },
    {
      chunk_content:
        "Para realmente aproveitar o potencial da IA e manter a qualidade do seu trabalho, algumas recomendações fazem toda a diferença:\n\nEncontre referências, mas leia os originais\n\nA IA pode sugerir artigos e livros. No entanto, jamais inclua citações de fontes que você não tenha checado pessoalmente. Essa verificação assegura que o conteúdo esteja alinhado ao que você precisa e evita erros futuros.\n\nAproveite a formatação, porém revise\n\nFerramentas como o Mettzer ajudam na formatação ABNT, mas há variações conforme a instituição. Faça uma checagem manual para confirmar se detalhes como margens, paginação e sumário estão de acordo com as exigências locais.\n\nUse a IA como consultora, não como autora\n\nPermita que ela aponte estruturas, verifique ortografia e ofereça brainstorming de ideias. Entretanto, a conclusão, o desenvolvimento do raciocínio e a defesa das hipóteses devem ser seus, mantendo a essência crítica característica de um TCC.\n\nA Inteligência Artificial abre portas para tornar o desenvolvimento de um TCC mais produtivo, pontual e livre de erros mecânicos. Contudo, ela não elimina a necessidade de estudo profundo, validações constantes e pensamento autoral. O uso responsável, com verificação de dados, respeito às políticas acadêmicas e transparência na produção, é o caminho para aproveitar o melhor desses recursos sem comprometer sua credibilidade.",
      chunk_title: "Dicas para usar IA no TCC",
    },
  ],
  replaced_chunks: [
    {
      chunk_content:
        "*A inteligência artificial (IA)* ajuda em trabalhos acadêmicos.\n\n Ferramentas de IA, antes vistas com desconfiança, agora são usadas para formatar e criar teorias.\n\nAlguns estudantes ainda duvidam se devem usar IA no TCC. É importante saber que a IA *não substitui* seu raciocínio crítico ou sua pesquisa.\n\nEla é uma *aliada*. A IA ajuda em tarefas que tomam tempo, como ajustar referências ou sugerir bibliografias. Assim, você pode focar no que importa: *aprofundar o conteúdo* e *construir um texto de valor*.\n\nPor exemplo, se você faz um estudo de caso sobre marketing digital, a IA pode buscar artigos científicos em bases confiáveis. Você foca na leitura do que realmente embasa seu texto.\n\nSe você travar na escrita, a IA pode sugerir uma estrutura inicial. Você revisa e adapta essa estrutura. Isso *diminui o tempo* gasto em tarefas operacionais e direciona sua energia para a pesquisa.",
      chunk_title:
        "IA para TCC: Como usar inteligência artificial para fazer monografias?",
    },
    {
      chunk_content:
        "Muitos perguntam se podem usar IA no TCC. *Não há uma lei nacional* sobre isso.\n\nCada *instituição de ensino* cria suas próprias regras. Elas dizem quando e como usar ferramentas de IA. Por isso, *verifique as normas* da sua faculdade ou universidade.\n\nEm muitos casos, o uso é permitido, mas exige *transparência*. Você deve *citar no trabalho* como a IA ajudou. Por exemplo, se ela deu sugestões de escrita, revisou textos ou indicou bibliografias.\n\nA *honestidade* é um princípio acadêmico. Ser transparente mostra maturidade e adaptação a novas tecnologias.\n\nConverse com seu *orientador* sobre o uso da IA. Se a instituição vê a IA como uma extensão do seu trabalho, a conversa será positiva. A eficiência é valorizada, principalmente com confiabilidade.\n\nO mais importante é *manter sua autoria*. Você é responsável pelas ideias principais, interpretações e originalidade dos argumentos.",
      chunk_title: "É permitido usar IA no TCC?",
    },
    {
      chunk_content:
        "Uma monografia segue um roteiro: escolher o tema, delimitar o problema, revisar a literatura, fazer a metodologia, analisar dados e concluir. A IA pode ajudar em cada fase:\n\n*   *Escolha e delimitação de tema:*\n    *   A IA ajuda em *brainstormings iniciais*.\n    *   Você insere um tópico (ex: “educação híbrida”) e a IA sugere recortes específicos (ex: “educação híbrida na formação de professores de Matemática”).\n\n*   *Pesquisa bibliográfica:*\n    *   A IA *rastreia artigos* em bases científicas, indicando fontes confiáveis.\n    *   Isso *acelera a revisão de literatura*. Mas *confira cada referência* para ver se ela existe e se encaixa no seu trabalho.\n\n*   *Estruturação do texto:*\n    *   Se você tem dificuldade em organizar ideias, a IA pode *sugerir subtítulos* ou blocos para fluidez.\n    *   É como ter alguém dizendo: “Que tal começar com isso e depois explorar aquilo?”\n\n*   *Revisão ortográfica e de coesão:*\n    *   A IA funciona como *assistente de gramática e estilo*.\n    *   Ela detecta repetições, erros de concordância e pontuação. Isso *otimiza seu trabalho*, deixando o texto mais claro e profissional.\n\n*Lembre-se:*\n\n*   A IA *não se responsabiliza* pelos resultados.\n*   Você garante a *integridade e solidez* dos argumentos.\n*   *Verificar, adaptar e conferir coerência* são passos essenciais antes da versão final.",
      chunk_title: "Em quais etapas do TCC a IA pode ajudar?",
    },
    {
      chunk_content:
        "O mercado oferece *várias IAs*, cada uma com vantagens e restrições. A escolha depende dos seus objetivos e da fase do TCC. Conheça algumas ferramentas populares. *Nenhuma plataforma substitui* sua análise crítica e escrita autoral.\n\n*   *Grammarly:*\n    *   Ideal para *textos em inglês* ou para refinar traduções.\n    *   Corrige ortografia, sugere substituições e padroniza o estilo.\n    *   Mesmo em português, algumas funções básicas são úteis. A versão paga tem recursos avançados.\n    *   Se seu TCC for em português, *complemente com revisões humanas* ou outras ferramentas.\n\n*   *Mettzer:*\n    *   Popular entre estudantes brasileiros. *Automatiza a formatação ABNT*.\n    *   Ajuda a criar referências, citações e diagramação. Simplifica o processo.\n    *   *Leia as regras da sua instituição*: pode haver exigências extras.\n\n*   *Research Rabbit:*\n    *   É um *“mapeador” de referências*.\n    *   Você digita uma palavra-chave e ele encontra artigos relacionados, mostrando conexões.\n    *   Útil para quem busca estudos complementares ou novas perspectivas na revisão teórica.\n    *   Facilita a *organização* de muitos artigos e a análise de pontos em comum.\n\n*   *Consensus:*\n    *   Faz buscas em *publicações revisadas por pares*.\n    *   Oferece respostas baseadas em evidências científicas. Aponta se há respaldo para uma afirmação.\n    *   Útil para *reforçar argumentos*, identificando pesquisas que confirmam ou contradizem uma ideia.\n    *   *Verifique se a ferramenta cobre sua área* com profundidade, pois nem sempre há literatura suficiente.\n\n*   *Perplexity:*\n    *   Fornece *explicações rápidas*, citando as fontes.\n    *   Útil para tirar dúvidas pontuais, como conceitos ou definições.\n    *   Se o TCC for muito específico ou em português, pode não retornar resultados adequados.\n    *   Sua capacidade de mostrar *referências originais* economiza tempo na checagem de credibilidade.\n\n*   *Gemini:*\n    *   Desenvolvido pelo Google, é uma *ferramenta versátil*.\n    *   Ajuda em várias tarefas, incluindo a redação de pesquisas.\n    *   Processa linguagens naturais rapidamente, útil para *grandes blocos de texto*.\n\n*   *ChatGPT:*\n    *   Produz *respostas coerentes* em vários idiomas.\n    *   Sugere estruturas de texto, gera introduções, revisa gramática e compara conceitos.\n    *   *Verifique as referências* que ele menciona. Dados podem estar desatualizados ou ser “alucinações”.\n    *   Use-o como *base inicial*; depois, refine as informações.\n\n*   *Paraphrase Tool:*\n    *   Muda a estrutura das frases, *mantendo o sentido geral*.\n    *   Ajuda a evitar repetições e o “bloqueio criativo” ao reescrever parágrafos.\n    *   *Cuidado com plágio involuntário* ou perda de precisão.\n    *   Sempre *revise* se o resultado é pertinente e fiel ao que o trabalho acadêmico exige.",
      chunk_title: "Qual a melhor IA para fazer um TCC?",
    },
    {
      chunk_content:
        "A empolgação com as ferramentas de IA pode levar ao uso excessivo. Por isso, *observe estes cuidados*:\n\n*   *Verificação das referências:*\n    *   Muitas IAs podem citar estudos que não existem ou bibliografias erradas.\n    *   *Confira a validade* de cada referência antes de incluí-la.\n\n*   *Autonomia do(a) aluno(a):*\n    *   *Não deixe o software fazer todo o trabalho*.\n    *   Sua capacidade de análise, reflexão e autoria é fundamental.\n\n*   *Citações adequadas:*\n    *   Se você parafrasear ou adaptar textos de outros autores, *faça as citações corretas*.\n    *   Isso evita problemas de plágio.\n\n*   *Políticas da instituição:*\n    *   Seja *transparente*.\n    *   Algumas universidades exigem uma declaração formal sobre o uso de IA.\n    *   *Sempre converse com seu orientador* sobre essa prática.",
      chunk_title: "Quais cuidados e questões éticas ao usar IA no seu TCC?",
    },
    {
      chunk_content:
        "Para aproveitar a IA e manter a qualidade do seu TCC, siga estas dicas:\\n\\n*   *Encontre referências, mas leia os originais:*\n    *   A IA pode sugerir artigos e livros.\n    *   *Nunca inclua citações de fontes que você não leu* pessoalmente.\n    *   Essa verificação garante que o conteúdo esteja alinhado e evita erros.\n\n*   *Aproveite a formatação, porém revise:*\n    *   Ferramentas como o Mettzer ajudam na formatação ABNT.\n    *   Mas há *variações conforme a instituição*.\n    *   *Faça uma checagem manual* para confirmar se margens, paginação e sumário estão corretos.\n\n*   *Use a IA como consultora, não como autora:*\n    *   Permita que ela *aponte estruturas*, verifique ortografia e ajude no brainstorming.\n    *   Mas a *conclusão, o raciocínio e a defesa das hipóteses* devem ser seus.\n    *   Mantenha a *essência crítica* de um TCC.\n\nA IA torna o TCC mais *produtivo, pontual e livre de erros mecânicos*. Contudo, ela *não elimina* a necessidade de:\n\n*   Estudo profundo.\n*   Validações constantes.\n*   Pensamento autoral.\n\nO uso responsável, com verificação de dados, respeito às políticas acadêmicas e transparência, é o caminho para aproveitar a IA sem comprometer sua credibilidade.",
      chunk_title: "Dicas para usar IA no TCC",
    },
  ],
};

export default class Templates {
  static async getFirstTemplate({
    title,
    content,
    excerpt,
    textContent,
  }: {
    title?: string | null;
    content?: string | null;
    excerpt?: string | null;
    textContent?: string | null;
  }): Promise<ContentSection[]> {
    console.log("Fetching first template with data:", {
      title,
      content,
      excerpt,
      textContent,
    });

    try {
      console.log("Before response");
      const response = await fetch(
        "https://calmind-ai-280945405622.southamerica-east1.run.app",
        {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ title, content }),
        }
      );
      console.log("After response");

      if (!response.ok) {
        throw new Error(`Erro ao buscar template: ${response.statusText}`);
      }

      const data = await response.json();
      // const data = DATA;
      console.log("Template fetched successfully:", data);
      const mergedChunks = data.replaced_chunks.map(
        (
          replacedChunk: { chunk_title: string; chunk_content: string },
          index: number
        ) => {
          const originalChunk = data.original_chunks[index];
          return {
            originalTitle: originalChunk?.chunk_title || "",
            originalContent: originalChunk?.chunk_content || "",
            replacedTitle: replacedChunk.chunk_title,
            replacedContent: replacedChunk.chunk_content,
          };
        }
      );
      console.log("Merged chunks:", mergedChunks);
      return mergedChunks;
    } catch (error) {
      console.error("Erro em getFirstTemplate:", error);
      throw error;
    }
  }
}
